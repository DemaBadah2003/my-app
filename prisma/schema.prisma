generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  // ملاحظة: لا تستخدم url هنا بعد Prisma 7
}

model Author {
  AuthorID Int @id @default(autoincrement())
  Name     String
  Country  String?
  Books    Book[]
}

model Member {
  MemberID  Int @id @default(autoincrement())
  FullName  String
  Email     String? @unique
  JoinDate  DateTime @default(now())
  Borrowings Borrowing[]
}

model Book {
  BookID       Int @id @default(autoincrement())
  Title        String
  AuthorID     Int
  PublishedYear Int?
  Genre        String?
  Author      Author @relation(fields: [AuthorID], references: [AuthorID])
  Borrowings  Borrowing[]
}

model Borrowing {
  BorrowID   Int @id @default(autoincrement())
  BookID     Int
  MemberID   Int
  BorrowDate DateTime
  ReturnDate DateTime?
  Book      Book   @relation(fields: [BookID], references: [BookID])
  Member    Member @relation(fields: [MemberID], references: [MemberID])
}
